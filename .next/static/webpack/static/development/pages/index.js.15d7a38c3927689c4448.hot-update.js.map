{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.15d7a38c3927689c4448.hot-update.js","sources":["webpack:///./components/Chat.js","webpack:///./components/ChatMessage.js"],"sourcesContent":["/* components/Chat.js */\r\n\r\n    import React, { Component, Fragment } from 'react';\r\n    import axios from 'axios';\r\n    import Pusher from 'pusher-js';\r\n    import ChatMessage from './ChatMessage';\r\n\r\n    const SAD_EMOJI = [55357, 56864];\r\n    const HAPPY_EMOJI = [55357, 56832];\r\n    const NEUTRAL_EMOJI = [55357, 56848];\r\n\r\n    class Chat extends Component {\r\n\r\n      state = { chats: [] }\r\n\r\n      componentDidMount() {\r\n\r\n        this.pusher = new Pusher(process.env.PUSHER_APP_KEY, {\r\n          cluster: process.env.PUSHER_APP_CLUSTER,\r\n          encrypted: true\r\n        });\r\n\r\n        this.channel = this.pusher.subscribe('chat-room');\r\n\r\n        this.channel.bind('new-message', ({ chat = null }) => {\r\n          const { chats } = this.state;\r\n          chat && chats.push(chat);\r\n          this.setState({ chats });\r\n        });\r\n\r\n        this.pusher.connection.bind('connected', () => {\r\n          axios.post('/messages')\r\n            .then(response => {\r\n              const chats = response.data.messages;\r\n              this.setState({ chats });\r\n            });\r\n        });\r\n\r\n      }\r\n\r\n      componentWillUnmount() {\r\n        this.pusher.disconnect();\r\n      }\r\n\r\n      /* components/Chat.js */\r\n\r\n      handleKeyUp = evt => {\r\n        const value = evt.target.value;\r\n\r\n        if (evt.keyCode === 13 && !evt.shiftKey) {\r\n          const { activeUser: user } = this.props;\r\n          const chat = { user, message: value, timestamp: +new Date };\r\n\r\n          evt.target.value = '';\r\n          axios.post('/message', chat);\r\n        }\r\n      }\r\n\r\n      render() {\r\n        return (this.props.activeUser && <Fragment>\r\n\r\n          <div className=\"border-bottom border-gray w-100 d-flex align-items-center bg-white\" style={{ height: 90 }}>\r\n            <h2 className=\"text-dark mb-0 mx-4 px-2\">{this.props.activeUser}</h2>\r\n          </div>\r\n\r\n          <div className=\"border-top border-gray w-100 px-4 d-flex align-items-center bg-light\" style={{ minHeight: 90 }}>\r\n            <textarea className=\"form-control px-3 py-2\" onKeyUp={this.handleKeyUp} placeholder=\"Enter a chat message\" style={{ resize: 'none' }}></textarea>\r\n          </div>\r\n\r\n        </Fragment> )\r\n      }\r\n\r\n    }\r\n\r\n    export default Chat;\r\n","/* components/ChatMessage.js */\r\n\r\n    import React, { Component } from 'react';\r\n\r\n    class ChatMessage extends Component {\r\n\r\n      render() {\r\n        const { position = 'left', message } = this.props;\r\n        const isRight = position.toLowerCase() === 'right';\r\n\r\n        const align = isRight ? 'text-right' : 'text-left';\r\n        const justify = isRight ? 'justify-content-end' : 'justify-content-start';\r\n\r\n        const messageBoxStyles = {\r\n          maxWidth: '70%',\r\n          flexGrow: 0\r\n        };\r\n\r\n        const messageStyles = {\r\n          fontWeight: 500,\r\n          lineHeight: 1.4,\r\n          whiteSpace: 'pre-wrap'\r\n        };\r\n\r\n        return <div className={`w-100 my-1 d-flex ${justify}`}>\r\n          <div className=\"bg-light rounded border border-gray p-2\" style={messageBoxStyles}>\r\n            <span className={`d-block text-secondary ${align}`} style={messageStyles}>\r\n              {message}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      }\r\n\r\n    }\r\n\r\n    export default ChatMessage;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAEA;AAAA;AAAA;AACA;AAgCA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;;;;;;AA1CA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAKA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;;;AAEA;AACA;AACA;AAEA;AACA;;;AAaA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AA3DA;AACA;AA8DA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1EA;AAEA;AACA;AACA;;;;;;;;;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAHA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAKA;;;;AA3BA;AACA;AA8BA;;;;A","sourceRoot":""}